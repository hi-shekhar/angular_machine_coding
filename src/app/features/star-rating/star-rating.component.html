<div class="star-rating-wrapper">
  <a routerLink="/" class="back-link">&larr; Back to Catalog</a>

  <h2>Star Rating Component</h2>
  <p>Click or hover to select a rating.</p>

  <div class="stars-container" [class.read-only]="readOnly()" (mouseleave)="onMouseLeave()">
    @for (starValue of stars(); track starValue) {
    <span class="star" [class.filled]="isStarFilled(starValue)" (click)="selectRating(starValue)"
      [attr.aria-label]="starValue + ' out of ' + totalStars() + ' stars'" (mouseover)="onStarHover(starValue)">
      &#9733;
    </span>
    }
  </div>

  @if (!readOnly()) { <button class="clear-button" (click)="clearRating()">Clear Rating</button>
  }

  <div class="current-selection">
    Current Rating: <strong>{{ currentRating() }}</strong> / {{ totalStars() }} <p>Hover Rating: {{ hoverRating() }}</p>
  </div>

  <div class="component-controls">
    <h3>Component Controls (for demo)</h3>
    <label>
      Total Stars:
      <input type="number" [(ngModel)]="totalStars" min="1" max="10">
    </label>
    <label>
      Read Only:
      <input type="checkbox" [(ngModel)]="readOnly">
    </label>
  </div>
</div>